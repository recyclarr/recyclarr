# yaml-language-server: $schema=https://json.schemastore.org/github-action.json
name: Setup GitVersion
description: Install GitVersion and determine version information
author: Recyclarr

outputs:
  preReleaseTag:
    description: The PreReleaseTag value
    value: ${{ steps.gitversion.outputs.preReleaseTag }}
  semVer:
    description: The SemVer value
    value: ${{ steps.gitversion.outputs.semVer }}

runs:
  using: composite
  steps:
    - name: Install GitVersion
      uses: gittools/actions/gitversion/setup@71a79f7569b981036febd9ce5870f87e069928e7 # v4.3.3
      with:
        # renovate: datasource=github-tags depName=GitTools/GitVersion
        versionSpec: 6.6.0

    - name: Determine Version
      uses: gittools/actions/gitversion/execute@71a79f7569b981036febd9ce5870f87e069928e7 # v4.3.3
      id: gitversion
