# yaml-language-server: $schema=https://json.schemastore.org/github-workflow.json
name: Docker Hub Updates

on:
  push:
    branches: [master]
    paths:
      - README.md
      - .github/workflows/docker-hub.yml
  workflow_dispatch:

permissions: read-all

jobs:
  readme:
    name: Update Repo Metadata
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@08c6903cd8c0fde910a37f88322edcfb5dd907a8 # v5

      - name: Update Docker Hub Description
        uses: peter-evans/dockerhub-description@432a30c9e07499fd01da9f8a49f0faf9e0ca5b77 # v4
        if: github.ref == 'refs/heads/master'
        env:
          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
          DOCKERHUB_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}
          DOCKERHUB_REPOSITORY: ${{ github.repository }}
